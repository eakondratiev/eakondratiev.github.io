function wsPage(){function h(){var c=e.value;var a=/([\u00FF-\uFFFF])/g,b=c.match(a);b=b?b.length:0;c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(a,"<b>$1</b>").replace(/\t/g,"<i>&rarr;</i>").replace(/[\u0020\u00A0\u2000-\u200A\u2028\u205F\u3000]/g,"<i>.</i>").replace(/[\n\u2029]/g,'<i class="new-line-symbol">&para;</i><br />');var f=0<arguments.length&&"keyup"===arguments[0].type;if(q&&(a=e.value,a=(new TextEncoder).encode(a),y.innerText=a.length,!f)){var d="";if(0<a.length){for(f=0;f<a.length;f++){var g=
a[f],m=g.toString(16);d+="<i>"+(16>g?"0"+m:m)+"</i>";0!==f&&0===(f+1)%16&&(d+="<br>")}k.innerHTML=d;k.style.display="block"}else k.textContent="",k.style.display="none"}r.innerHTML=c;z.innerHTML=b;t.style.display=0<b?"":"none";r.style.display=0<e.value.length?"block":"none";n.update(e.value);A.innerHTML=n.getLength().toString();"function"===typeof l&&l();window.history.pushState&&window.history.pushState("ws.htm","Title","/ws.htm?t="+encodeURIComponent(e.value))}var l=void 0,e=document.getElementById("text-box"),
r=document.getElementById("text-processed"),A=document.getElementById("text-len"),t=document.getElementById("nonascii-counter"),z=t.getElementsByTagName("b")[0],u=document.getElementById("bytes-counter"),y=u.getElementsByTagName("b")[0],k=document.getElementById("text-bytes"),q="undefined"!==typeof TextEncoder,p=document.getElementById("text-character"),v=p.getElementsByTagName("b")[0],w=p.getElementsByTagName("b")[1],x=T.getUrlParameters(),n=function(){var c=0,a=null;return{init:function(){try{a=
new Intl.Segmenter("en",{granularity:"grapheme"});var b=a.segment("abc");var f=b[Symbol.iterator]();f.next()}catch(d){a=null}},update:function(b){var f;if(a)try{c=0;var d=a.segment(b);var g=d[Symbol.iterator]();for(f=g.next();!f.done;)c++,f=g.next();return}catch(m){}c=b.length},getLength:function(){return c}}}();n.init();q&&(u.style.display="");e.focus();"undefined"!==typeof Event&&"object"===typeof e.oninput?e.addEventListener("input",h):(e.addEventListener("change",h),e.addEventListener("paste",
function(c){setTimeout(function(){h(c)},0)}));e.addEventListener("keyup",h);void 0!==x.t&&(e.value=decodeURIComponent(x.t),h());void 0!==window.getSelection&&void 0!==String.fromCodePoint&&(p.style.display="block",e.onmouseup=function(){l()},l=function(){var c=e.selectionStart,a=e.value.codePointAt(c);var b=1>=e.selectionEnd-c?a:0;var f="";c=!0;if(0===b)v.innerHTML="",w.innerHTML="";else{a=Array(4);var d;for(d=3;0<=d;d--)a[d]=b>>8*d&255;v.innerHTML=0<b?String.fromCodePoint(b):"";for(b=a.length-1;0<=
b;b--)if(0!==a[b]||!c){c=!1;d=a[b];var g=d.toString(16);d=16>d?"0"+g:g;f+=" "+d}w.innerHTML=f}})};
