function wsPage(){function g(){var d=c.value;var b=/([\u00FF-\uFFFF])/g,a=d.match(b);a=a?a.length:0;d=d.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(b,"<b>$1</b>").replace(/\t/g,"<i>&rarr;</i>").replace(/[\u0020\u00A0\u2000-\u200A\u2028\u205F\u3000]/g,"<i>.</i>").replace(/[\n\u2029]/g,'<i class="new-line-symbol">&para;</i><br />');n&&(b=c.value,b=(new TextEncoder).encode(b),w.innerText=b.length);p.innerHTML=d;x.innerHTML=a;q.style.display=0<a?"":"none";p.style.display=0<c.value.length?"block":
"none";l.update(c.value);y.innerHTML=l.getLength().toString();"function"===typeof k&&k();window.history.pushState&&window.history.pushState("ws.htm","Title","/ws.htm?t="+encodeURIComponent(c.value))}var k=void 0,c=document.getElementById("text-box"),p=document.getElementById("text-processed"),y=document.getElementById("text-len"),q=document.getElementById("nonascii-counter"),x=q.getElementsByTagName("b")[0],r=document.getElementById("bytes-counter"),w=r.getElementsByTagName("b")[0],n="undefined"!==
typeof TextEncoder,m=document.getElementById("text-character"),t=m.getElementsByTagName("b")[0],u=m.getElementsByTagName("b")[1],v=T.getUrlParameters(),l=function(){var d=0,b=null;return{init:function(){try{b=new Intl.Segmenter("en",{granularity:"grapheme"});var a=b.segment("abc");var f=a[Symbol.iterator]();f.next()}catch(e){b=null}},update:function(a){var f;if(b)try{d=0;var e=b.segment(a);var h=e[Symbol.iterator]();for(f=h.next();!f.done;)d++,f=h.next();return}catch(z){}d=a.length},getLength:function(){return d}}}();
l.init();n&&(r.style.display="");c.focus();"undefined"!==typeof Event&&"object"===typeof c.oninput?c.addEventListener("input",g):(c.addEventListener("change",g),c.addEventListener("paste",function(d){setTimeout(function(){g()},0)}));c.addEventListener("keyup",g);void 0!==v.t&&(c.value=decodeURIComponent(v.t),g());void 0!==window.getSelection&&void 0!==String.fromCodePoint&&(m.style.display="block",c.onmouseup=function(){k()},k=function(){var d=c.selectionStart,b=c.value.codePointAt(d);var a=1>=c.selectionEnd-
d?b:0;var f="";d=!0;if(0===a)t.innerHTML="",u.innerHTML="";else{b=Array(4);var e;for(e=3;0<=e;e--)b[e]=a>>8*e&255;t.innerHTML=0<a?String.fromCodePoint(a):"";for(a=b.length-1;0<=a;a--)if(0!==b[a]||!d){d=!1;e=b[a];var h=e.toString(16);e=16>e?"0"+h:h;f+=" "+e}u.innerHTML=f}})};
