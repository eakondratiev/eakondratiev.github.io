function wsPage(){function f(){var c=b.value;var d=/([\u00FF-\uFFFF])/g,a=c.match(d);a=a?a.length:0;c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(d,"<b>$1</b>").replace(/\t/g,"<i>&rarr;</i>").replace(/[\u0020\u00A0\u2000-\u200A\u2028\u205F\u3000]/g,"<i>.</i>").replace(/[\n\u2029]/g,'<i class="new-line-symbol">&para;</i><br />');k&&(d=b.value,d=(new TextEncoder).encode(d),v.innerText=d.length);l.innerHTML=c;w.innerHTML=a;m.style.display=0<a?"":"none";l.style.display=0<b.value.length?"block":
"none";a=b.value;"undefined"!==typeof Intl&&"function"===typeof Intl.Segmenter?(c=new Intl.Segmenter("en",{granularity:"grapheme"}),a=Array.from(c.segment(a)),a=a.length):a=a.length;x.innerHTML=a.toString();"function"===typeof g&&g();window.history.pushState&&window.history.pushState("ws.htm","Title","/ws.htm?t="+encodeURIComponent(b.value))}var g=void 0,b=document.getElementById("text-box"),l=document.getElementById("text-processed"),x=document.getElementById("text-len"),m=document.getElementById("nonascii-counter"),
w=m.getElementsByTagName("b")[0],n=document.getElementById("bytes-counter"),v=n.getElementsByTagName("b")[0],k="undefined"!==typeof TextEncoder,h=document.getElementById("text-character"),p=h.getElementsByTagName("b")[0],q=h.getElementsByTagName("b")[1],r=T.getUrlParameters();k&&(n.style.display="");b.focus();"undefined"!==typeof Event&&"object"===typeof b.oninput?b.addEventListener("input",f):(b.addEventListener("change",f),b.addEventListener("paste",function(c){setTimeout(function(){f()},0)}));
b.addEventListener("keyup",f);void 0!==r.t&&(b.value=decodeURIComponent(r.t),f());void 0!==window.getSelection&&void 0!==String.fromCodePoint&&(h.style.display="block",b.onmouseup=function(){g()},g=function(){var c=b.selectionStart,d=b.value.codePointAt(c);var a=1>=b.selectionEnd-c?d:0;var t="";c=!0;if(0===a)p.innerHTML="",q.innerHTML="";else{d=Array(4);var e;for(e=3;0<=e;e--)d[e]=a>>8*e&255;p.innerHTML=0<a?String.fromCodePoint(a):"";for(a=d.length-1;0<=a;a--)if(0!==d[a]||!c){c=!1;e=d[a];var u=e.toString(16);
e=16>e?"0"+u:u;t+=" "+e}q.innerHTML=t}})};
