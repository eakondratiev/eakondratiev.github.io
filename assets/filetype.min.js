function fileTypePage(b){"use strict";var k=1024,I="",u=document.getElementById("file-target"),F=document.getElementById("input-file"),M=document.getElementsByClassName("file-signature")[0],P=document.getElementsByClassName("file-info")[0],C=new j(b.loaderCss),G=b.wasmUrl,E=b.dropReadyCss,L=b.flashCss,x=500,O=100*1024,B=b.textLnkSize,y={},D={JPEG:{description:"JPEG, lossy compressed image file"},JPEG2000:{description:"JPEG 2000 file"},JXR:{description:"JPEG XR (extended range) file"},JXL:{description:"JPEG XL file, jxl - supports both lossy and lossless compressions, as well as alpha channels and HDR"},PNG:{description:"png, Image encoded in the Portable Network Graphics format"},webp:{description:"Google WebP image file"},ani:{description:"Animated cursor"},CanonRAW:{description:"Canon RAW Format Version 2"},xcf:{description:"XCF file, GIMP native"},GIF87a:{description:"gif, Image file encoded in the Graphics Interchange Format (GIF87a)"},GIF89a:{description:"gif, Image file encoded in the Graphics Interchange Format (GIF89a)"},ttf:{description:"TrueType font"},ICO:{description:"A computer icon encoded in the ICO file format"},PSD:{description:"Adobe Photoshop's native file"},AppleIcon:{description:"Apple Icon Image format"},"TIFF(le)":{description:"TIFF, Tagged Image File Format, Intel/little-endian"},"TIFF(be)":{description:"TIFF, Tagged Image File Format, Motorola/big-endian"},DNG:{description:"DNG, Digital Negative: a raw image format from cameras and phones for enhanced editing"},bmp:{description:"BMP file, a bitmap format used mostly in the Windows world"},wmf:{description:"wmf, Windows Metafile, image file"},OpenEXR:{description:"OpenEXR image"},BPG:{description:"Better Portable Graphics format"},Cineon:{description:"Kodak Cineon image"},FLIF:{description:"Free Lossless Image Format"},FH8:{description:"FreeHand 8 document"},FH9:{description:"FreeHand 9 document"},"EPS3.0":{description:"Encapsulated PostScript file version 3.0"},"EPS3.1":{description:"Encapsulated PostScript file version 3.1"},PostScript:{description:"PostScript document"},TOX:{description:"Open source portable voxel file"},otf:{description:"OpenType font"},woff:{description:"WOFF File Format 1.0"},woff2:{description:"WOFF File Format 2.0"},icm:{description:"icm, ICC profile, color correction"},SWF:{description:"swf, Adobe Flash"},mp3ID3v2:{description:"MP3 file with an ID3v2 container"},mp3:{description:"MP3, MPEG-1 Layer 3 file without an ID3 tag or with an ID3v1 tag"},FLAC:{description:"FLAC, Free Lossless Audio Codec"},AIFF:{description:"AIFF, Audio Interchange File Format"},wav:{description:"WAV, Waveform Audio File Format"},OGGS:{description:"Ogg, an open source media container format"},m4a:{description:"M4A, Apple Lossless Audio Codec (ALAC) or AAC audio file, ISO media"},"AAC-ADTS":{description:"An audio file containing AAC (Advanced Audio Coding) in ADTS (Audio Data Transport Stream) format, optimized for streaming and broadcasting"},MP2:{description:"An audio file using MPEG-1 Layer 2 (MP2) format, designed for broadcasting and digital radio transmission"},MIDI:{description:"MID, MIDI, a Musical Instrument Digital Interface file, sound file"},DSF:{description:"<b>DSF</b> (DSD Storage Facility) is a high-resolution audio file format that stores Direct Stream Digital (DSD) audio data, commonly used for high-fidelity music playback."},DFF:{description:"<b>DFF</b> (DSD Interchange File Format) is a high-resolution audio file format that stores Direct Stream Digital (DSD) audio data, commonly used for high-fidelity music playback."},AC3:{description:"AC3, compressed surround sound, AC-3 aka ATSC A/52 aka Dolby Digital stream, typically for DVDs."},avi:{description:"avi, Audio Video Interleave video format"},"ebml-matroska":{description:"Matroska (MKV/MKA/MKS/MK3D) is a multimedia container format for video, audio, and subtitles"},"ebml-webm":{description:"WebM is a web-optimized version of Matroska for media streaming"},"ebml-unknown":{description:"EBML (Extensible Binary Meta Language) is a binary markup format for structured data storage"},"ASF-WMA-WMV":{description:"asf, wma, wmv - Advanced Systems Format"},mp4:{description:"mp4 - ISO Base Media file (MPEG-4)"},av1:{description:"AV1 - video file encoded using the AV1 codec with efficient compression"},avif:{description:"AVIF - image file that uses AV1 video codec for image compression"},heic:{description:"HEIC/HEIF - High Efficiency Image Container (or Format) for images, image sequences, other media streams."},ftyp3g:{description:"3rd Generation Partnership Project 3GPP and 3GPP2 multimedia files"},MLV:{description:"Canon Magic Lantern Video file"},"MPEG-Stream":{description:"MPEG Program Stream"},"MPEG-Video":{description:"MPEG-1 video and MPEG-2 video"},"MPEG-Transport":{description:"ts, tsv, tsa, mpg, mpeg - MPEG Transport Stream (MPEG-2 Part 1)"},MOV:{description:"Apple QuickTime MOV, a video container"},m4v:{description:"M4V, Apple iTunes Video, ISO media"},FLV:{description:"flv, Flash Video file"},"PIC-PIF-SEA-OCR":{description:"PIC (IBM Storyboard bitmap file) or PIF (Windows Program Information File) or SEA (Mac Stuffit Self-Extracting Archive) or YTR (IRIS OCR data file)"},PDF:{description:"PDF document"},DJVU:{description:"DjVu document"},OfficeOld:{description:"Compound File Binary Format, a container format defined by Microsoft COM. It can contain the equivalent of files and directories. It is used by <b>Windows Installer</b> and for documents in <b>older versions of Microsoft Office</b>."},MDB:{description:"Microsoft Access MDB, Jet DB"},AppleWorks5:{description:"AppleWorks 5 document"},AppleWorks6:{description:"AppleWorks 6 document"},"CRD-RRG":{description:'crd, Microsoft Windows Cardfile Database Format, the file signature is RRG. The <a href="crd-reader.htm"><b>CRD Reader</b></a> command line application can read this kind of files.'},"CRD-MGC":{description:'crd, Microsoft Windows Cardfile Database Format, the file signature is MGC. The <a href="crd-reader.htm"><b>CRD Reader</b></a> command line application can read this kind of files.'},SQLite3:{description:"SQLite version 3 database"},HDF4:{description:"HDF4 -  Hierarchical Data Format version 4, scientific data in a hierarchical organization"},HDF5:{description:"HDF5 -  Hierarchical Data Format version 5, for large and complex scientific data in a hierarchical organization, also commonly used in machine learning"},dcr:{description:"Adobe Shockwave file"},dir:{description:"Macromedia Director file"},WinHtmlHelp:{description:"chm, Microsoft Windows HtmlHelp file"},OracleVMDisk:{description:"VirtualBox Virtual Hard Disk"},vhd:{description:"Windows Virtual PC Virtual Hard Disk"},vhdx:{description:"Windows Virtual PC Windows 8 Virtual Hard Disk file"},evtx:{description:"Windows Event Viewer XML file"},"PuTTY-key2":{description:"PuTTY private key file version 2"},"PuTTY-key3":{description:"PuTTY private key file version 3"},"pem-crt":{description:"PEM encoded X.509 certificate"},"pem-csr":{description:"PEM encoded X.509 Certificate Signing Request"},"pem-key":{description:"PEM encoded X.509 PKCS#8 private key"},"pem-DSAkey":{description:"PEM encoded X.509 PKCS#1 DSA private key"},"pem-RSAkey":{description:"PEM encoded X.509 PKCS#1 RSA private key"},arj:{description:"ARJ compressed file"},ZIP:{description:"zip file format and formats based on it, such as EPUB, JAR, ODF, OOXML"},LZIP:{description:"lzip compressed file"},"7z":{description:"7-Zip File Format"},gz:{description:"GZIP compressed file"},"RAR1.5":{description:"rar, Roshal ARchive compressed archive v1.50 onwards"},RAR5:{description:"rar, Roshal ARchive compressed archive v5.00 onwards"},xz:{description:"xz, tar.xz - XZ compressed file, LZMA2 compression"},LZ4:{description:"LZ4 compressed file"},XAR:{description:"xar, eXtensible ARchive format"},TAR:{description:"tar archive"},"tar-LZW":{description:"Compressed file (often tar zip) using Lempel-Ziv-Welch algorithm"},"tar-LZH":{description:"Compressed file (often tar zip) using LZH algorithm"},deb:{description:"Linux deb file"},rpm:{description:"RedHat Package Manager (RPM) package"},"MS-SDI":{description:"SDI, System Deployment Image, a disk image format used by Microsoft"},WinUpdDelta:{description:"Windows Update Binary Delta Compression file"},"iso-sdi":{description:"cdi, CD-i CD image file"},elf:{description:"Executable and Linkable Format"},DosMZ:{description:"DOS MZ executable and its descendants (including NE and PE)"},DosZM:{description:"DOS ZM executable and its descendants (rare)"},CPM3:{description:"com, executable file, CP/M 3 and higher with overlays"},Shebang:{description:"Script or data to be passed to the program following the shebang (#!)"},"Mach-O32":{description:"Mach-O binary, 32-bit"},"Mach-O64":{description:"Mach-O binary, 64-bit"},"Mach-O32rev":{description:"Mach-O binary, reverse byte ordering scheme, 32-bit"},"Mach-O64rev":{description:"Mach-O binary, reverse byte ordering scheme, 64-bit"},TDF:{description:"Telegram Desktop File"},TDEF:{description:"Telegram Desktop Encrypted File"},JavaClass:{description:"Java class file, Mach-O Fat Binary"},CRX:{description:"Google Chrome extension or packaged app"},"NES-ROM":{description:"Nintendo Entertainment System ROM file"},CAB:{description:"cab, Microsoft Cabinet file"},luac:{description:"Lua bytecode"},wasm:{description:"WebAssembly binary format"},PGP:{description:"PGP file"},cab:{description:"cab, InstallShield CAB Archive File"},evt:{description:"evt, Windows Event Viewer file"},"dat-reg":{description:"dat, a Windows Registry file"},LNK:{description:"lnk, a Windows shortcut file"},UTF8:{description:"UTF-8 byte order mark, commonly seen in text files"},UTF16LE:{description:"Text file with UTF-16LE byte order mark"},UTF16BE:{description:"Text file with UTF-16BE byte order mark"},HTML:{description:"HTML file"},XML:{description:"XML file"},ICS:{description:"ICS (iCalendar) is a file format for sharing calendar events, allowing users to exchange scheduling information across different applications."},VCARD:{description:"VCF (vCard) is a file format for electronic business cards, storing contact information like names, phone numbers, and addresses"},"VCF-GEN":{description:"VCF (Variant Call Format) is a text file format for storing genetic variation data, including SNPs and INDELs, in bioinformatics."}},W=new Set(["JPEG","PNG","GIF87a","GIF89a","webp","bmp","ICO"]);(async function(){y=await H(G),y.memory!==void 0?(F.disabled=!1,S(F.files,M)):M.innerHTML+='<div class="page-message page-message--error">'+y.error+"</div>"})(),F.addEventListener("keypress",function(e){e.key==="Enter"&&S(F.files,M)}),F.addEventListener("change",function(e){S(F.files,M)}),u.addEventListener("dragenter",function(e){e.stopPropagation(),e.preventDefault(),u.classList.add(E)}),u.addEventListener("dragleave",function(e){e.stopPropagation(),e.preventDefault(),u.classList.remove(E)}),u.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault()}),u.addEventListener("drop",function(e){var r=e.dataTransfer;e.stopPropagation(),e.preventDefault(),u.classList.remove(E),S(r.files,M)}),u.addEventListener("click",function(e){document.getElementById("input-file").click()}),document.addEventListener("keydown",function(e){if(!(e.altKey||e.ctrlKey))switch(e.key){case"f":case"F":document.getElementById("input-file").click(),e.preventDefault();break}});async function H(e){var r={},i={env:{memory_base:0,table_base:0,memory:new WebAssembly.Memory({initial:1}),table:new WebAssembly.Table({initial:0,element:"anyfunc"})}};try{var t=await fetch(e),a=await t.arrayBuffer(),n=await WebAssembly.instantiate(a,i),o=n.instance;r={memory:o.exports.memory,getFileSignature:o.exports.getFileSignature}}catch(c){r.error=c.toString()}return r}async function S(e,r){var i="",t,a=new FileReader;if(P.innerHTML="",e===void 0||e.length===0)i="Please, select a file.";else{t=e[0],C.show(),r.classList.remove(L);var n=async o=>{i+=p("File name",o.name)+p("File size",N(o.size))+p("File MIME type",(o.type||"unknown")+'<div style="font-style:normal; opacity:0.7;">* as reported by the browser</div>');var c=o.slice(0,k);await a.readAsArrayBuffer(c),a.onload=function(l){V(l.target.result,o,r),C.hide(),T.log("File processed")},a.onerror=function(l){T.log("File error"),C.hide()}};await n(t)}r.innerHTML=i}function V(e,r,i){var t=300,a=45,n=32,o="<b>Description</b>",c="",l=0;if(e.byteLength===0){i.innerHTML+=p(o,"Empty file");return}var d=new Uint8Array(y.memory.buffer,l,t);w(d),d.set(new Uint8Array(e,0,Math.min(e.byteLength,t))),l+=t*Uint8Array.BYTES_PER_ELEMENT;var g=new Uint8Array(y.memory.buffer,l,a);w(g),y.getFileSignature(d.byteOffset,g.byteOffset,e.byteLength);var s=U(g,a),v="",h="",f,A=!0;s===I?(A=z(e),A?v="A text file":v="A binary file, type not detected"):(v=X(s),s==="LNK"&&(e.byteLength<x||e.byteLength>O)?c='<div class="page-message page-message--error">'+B+e.byteLength.toString()+"</div>":s==="AC3"?(f=Y(d),f&&(h=p("Type",f.isEAC3?"E-AC3 (Enhanced AC-3 or Dolby Digital Plus)":"Regular AC-3")+p("Rate",`${f.samplingRate/1e3} kHz`)+p("Channels",f.numChannels)+p("LFE",f.hasLFE?"present":"no")+p("Bit rate",`${f.bitRate/1e3} kbps`))):W.has(s)&&J(P,r)),i.classList.add(L),i.innerHTML+=p(o,v)+h+c,s===I&&A===!1&&(i.innerHTML+='<div style="margin: 8pt 0;"><div>First bytes</div>'+Z(d,Math.min(n,r.size,t))+"</div>")}function w(e){var r;for(r=0;r<e.length;r++)e[r]=0}function p(e,r){return'<div class="file-prop"><span class="file-prop-name">'+e+'</span><span class="file-prop-value">'+r+"</span></div>"}function N(e){var r={minimumFractionDigits:0,maximumFractionDigits:1},i=1024,t=1048576,a=1073741824,n="";return e>=a?n=T.formatNumber(e/a,"en-US",r)+" GB, ":e>=t?n=T.formatNumber(e/t,"en-US",r)+" MB, ":e>=i&&(n=T.formatNumber(e/i,"en-US",r)+" KB, "),n+=e+" byte(s)",n}function U(e,r){for(var i="",t=0;t<r;)if(e[t]!==0)i+=String.fromCharCode(e[t]),t++;else return i;return""}function X(e){return e===""?"signature not found":D[e]===void 0?"unknown signature "+e:D[e].description}function Z(e,r){var i,t="",a="",n="";for(i=0;i<r;i++)t+='<span class="byte-hex">'+K(e[i])+"</span>",31<e[i]&&e[i]<127?n+=_(String.fromCharCode(e[i])):n+="&middot;",(i>0&&(i+1)%8===0||i===r-1)&&(a+='<span class="eight-bytes">'+t+"</span>",(i+1)%16===0&&i!==r-1&&(a+="<br />",n+="<br />"),t="");return'<div class="code file-bytes"><div><h4>Hex</h4>'+a+"</div><div><h4>ASCII</h4>"+n+"</div></div>"}function _(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}function K(e){var r=e.toString(16);return e<16?"0"+r:r}function m(e,r,i){const t=8-(r+i),a=(1<<i)-1;return e>>t&a}function z(e){var r=10485760,i=Math.min(r,e.byteLength),t,a,n=new Uint8Array(e,0,i);for(t=0;t<i;t++)if(a=n[t],a<7||a>13&&a<27||a>27&&a<32||a==127)return!1;return!0}function J(e,r){var i=URL.createObjectURL(r),t=new Image;t.onload=function(){if(t.naturalWidth&&t.naturalHeight){var a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("img");o.src=i,n.classList.add("img-thumbnail-container"),n.appendChild(o),a.classList.add("img-info-data"),a.innerHTML=`<div>Image size ${t.naturalWidth} x ${t.naturalHeight} px</div>`,e.appendChild(a),e.appendChild(n)}URL.revokeObjectURL(i)},t.onerror=function(){e.innerHTML="<p>Failed to load the image</p>",URL.revokeObjectURL(i)},t.src=i}function Y(e){var r,i,t,a,n,o,c,l,d,g,s,v,h,f=[[64,69,96],[64,70,96],[80,87,120],[80,88,120],[96,104,144],[96,105,144],[112,121,168],[112,122,168],[128,139,192],[128,140,192],[160,174,240],[160,175,240],[192,208,288],[192,209,288],[224,243,336],[224,244,336],[256,278,384],[256,279,384],[320,348,480],[320,349,480],[384,417,576],[384,418,576],[448,487,672],[448,488,672],[512,557,768],[512,558,768],[640,696,960],[640,697,960],[768,835,1152],[768,836,1152],[896,975,1344],[896,976,1344],[1024,1114,1536],[1024,1115,1536],[1152,1253,1728],[1152,1254,1728],[1280,1393,1920],[1280,1394,1920]],A=[32,40,48,56,64,80,96,112,128,160,192,224,256,320,384,448,512,576,640],R=[48e3,44100,32e3,0];if(!e||e.length===void 0||e.length<7||e[0]!==11||e[1]!==119)return null;if(r=e[5]>>3&31,h=6,r<=10)return i=m(e[4],0,2),d=[48e3,44100,32e3][i]||0,l=e[6]>>5&7,g=[2,1,2,3,3,4,4,5][l]||0,s=e[6]>>3&1?1:0,n=m(e[4],2,6),n>37?null:(v=f[n][i]||0,o=n>>1,a=Math.max(r,8)-8,c=A[o]*1e3>>a,{isEAC3:!1,samplingRate:d,numChannels:g+s,hasLFE:s,bitRate:c});if(v=((m(e[4],5,3)<<8|m(e[5],0,8))+1)*2,i=m(e[6],6,2),i===3){if(t=m(e[6],4,2),t===3)return null;d=(R[t]||0)/2}else{if(h=[1,2,3,6][m(e[6],4,2)],h===void 0)return null;d=R[i]||0}return l=m(e[6],1,3),g=[2,1,2,3,3,4,4,5][l]||0,s=m(e[6],0,1),c=8*v*d/(h*256),{isEAC3:!0,samplingRate:d,numChannels:g+s,hasLFE:s,bitRate:c}}function j(e){var r=document.getElementsByClassName(e)[0];return r?{show:function(){r.style.display="block"},hide:function(){r.style.display="none"}}:{show:function(){},hide:function(){}}}}
