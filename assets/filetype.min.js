function fileTypePage(f){"use strict";var D=1024,S="",s=document.getElementById("file-target"),c=document.getElementById("input-file"),m=document.getElementsByClassName("file-signature")[0],b=new X(f.loaderCss),C=f.wasmUrl,F=f.dropReadyCss,P=f.flashCss,w=500,L=100*1024,R=f.textLnkSize,l={},E={JPEG:{description:"JPEG, lossy compressed image file"},JPEG2000:{description:"JPEG 2000 file"},JXR:{description:"JPEG XR (extended range) file"},JXL:{description:"JPEG XL file, jxl - supports both lossy and lossless compressions, as well as alpha channels and HDR"},PNG:{description:"png, Image encoded in the Portable Network Graphics format"},webp:{description:"Google WebP image file"},ani:{description:"Animated cursor"},CanonRAW:{description:"Canon RAW Format Version 2"},xcf:{description:"XCF file, GIMP native"},GIF87a:{description:"gif, Image file encoded in the Graphics Interchange Format (GIF87a)"},GIF89a:{description:"gif, Image file encoded in the Graphics Interchange Format (GIF89a)"},ttf:{description:"TrueType font"},ICO:{description:"A computer icon encoded in the ICO file format"},PSD:{description:"Adobe Photoshop's native file"},AppleIcon:{description:"Apple Icon Image format"},"TIFF(le)":{description:"TIFF, Tagged Image File Format, Intel/little-endian"},"TIFF(be)":{description:"TIFF, Tagged Image File Format, Motorola/big-endian"},DNG:{description:"DNG, Digital Negative: a raw image format from cameras and phones for enhanced editing"},bmp:{description:"BMP file, a bitmap format used mostly in the Windows world"},wmf:{description:"wmf, Windows Metafile, image file"},OpenEXR:{description:"OpenEXR image"},BPG:{description:"Better Portable Graphics format"},Cineon:{description:"Kodak Cineon image"},FLIF:{description:"Free Lossless Image Format"},FH8:{description:"FreeHand 8 document"},FH9:{description:"FreeHand 9 document"},"EPS3.0":{description:"Encapsulated PostScript file version 3.0"},"EPS3.1":{description:"Encapsulated PostScript file version 3.1"},PostScript:{description:"PostScript document"},TOX:{description:"Open source portable voxel file"},otf:{description:"OpenType font"},woff:{description:"WOFF File Format 1.0"},woff2:{description:"WOFF File Format 2.0"},icm:{description:"icm, ICC profile, color correction"},SWF:{description:"swf, Adobe Flash"},mp3ID3v2:{description:"MP3 file with an ID3v2 container"},mp3:{description:"MP3, MPEG-1 Layer 3 file without an ID3 tag or with an ID3v1 tag"},FLAC:{description:"FLAC, Free Lossless Audio Codec"},AIFF:{description:"AIFF, Audio Interchange File Format"},wav:{description:"WAV, Waveform Audio File Format"},OGGS:{description:"Ogg, an open source media container format"},m4a:{description:"M4A, Apple Lossless Audio Codec (ALAC) or AAC audio file, ISO media"},"AAC-ADTS":{description:"An audio file containing AAC (Advanced Audio Coding) in ADTS (Audio Data Transport Stream) format, optimized for streaming and broadcasting"},MP2:{description:"An audio file using MPEG-1 Layer 2 (MP2) format, designed for broadcasting and digital radio transmission"},MIDI:{description:"MID, MIDI, a Musical Instrument Digital Interface file, sound file"},DSF:{description:"<b>DSF</b> (DSD Storage Facility) is a high-resolution audio file format that stores Direct Stream Digital (DSD) audio data, commonly used for high-fidelity music playback."},DFF:{description:"<b>DFF</b> (DSD Interchange File Format) is a high-resolution audio file format that stores Direct Stream Digital (DSD) audio data, commonly used for high-fidelity music playback."},avi:{description:"avi, Audio Video Interleave video format"},"ebml-matroska":{description:"Matroska (MKV/MKA/MKS/MK3D) is a multimedia container format for video, audio, and subtitles"},"ebml-webm":{description:"WebM is a web-optimized version of Matroska for media streaming"},"ebml-unknown":{description:"EBML (Extensible Binary Meta Language) is a binary markup format for structured data storage"},"ASF-WMA-WMV":{description:"asf, wma, wmv - Advanced Systems Format"},mp4:{description:"mp4 - ISO Base Media file (MPEG-4)"},av1:{description:"AV1 - video file encoded using the AV1 codec with efficient compression"},avif:{description:"AVIF - image file that uses AV1 video codec for image compression"},heic:{description:"HEIC/HEIF - High Efficiency Image Container (or Format) for images, image sequences, other media streams."},ftyp3g:{description:"3rd Generation Partnership Project 3GPP and 3GPP2 multimedia files"},MLV:{description:"Canon Magic Lantern Video file"},"MPEG-Stream":{description:"MPEG Program Stream"},"MPEG-Video":{description:"MPEG-1 video and MPEG-2 video"},"MPEG-Transport":{description:"ts, tsv, tsa, mpg, mpeg - MPEG Transport Stream (MPEG-2 Part 1)"},MOV:{description:"Apple QuickTime MOV, a video container"},m4v:{description:"M4V, Apple iTunes Video, ISO media"},FLV:{description:"flv, Flash Video file"},"PIC-PIF-SEA-OCR":{description:"PIC (IBM Storyboard bitmap file) or PIF (Windows Program Information File) or SEA (Mac Stuffit Self-Extracting Archive) or YTR (IRIS OCR data file)"},PDF:{description:"PDF document"},DJVU:{description:"DjVu document"},OfficeOld:{description:"Compound File Binary Format, a container format defined by Microsoft COM. It can contain the equivalent of files and directories. It is used by <b>Windows Installer</b> and for documents in <b>older versions of Microsoft Office</b>."},MDB:{description:"Microsoft Access MDB, Jet DB"},AppleWorks5:{description:"AppleWorks 5 document"},AppleWorks6:{description:"AppleWorks 6 document"},"CRD-RRG":{description:'crd, Microsoft Windows Cardfile Database Format, the file signature is RRG. The <a href="crd-reader.htm"><b>CRD Reader</b></a> command line application can read this kind of files.'},"CRD-MGC":{description:'crd, Microsoft Windows Cardfile Database Format, the file signature is MGC. The <a href="crd-reader.htm"><b>CRD Reader</b></a> command line application can read this kind of files.'},SQLite3:{description:"SQLite version 3 database"},HDF4:{description:"HDF4 -  Hierarchical Data Format version 4, scientific data in a hierarchical organization"},HDF5:{description:"HDF5 -  Hierarchical Data Format version 5, for large and complex scientific data in a hierarchical organization, also commonly used in machine learning"},dcr:{description:"Adobe Shockwave file"},dir:{description:"Macromedia Director file"},WinHtmlHelp:{description:"chm, Microsoft Windows HtmlHelp file"},OracleVMDisk:{description:"VirtualBox Virtual Hard Disk"},vhd:{description:"Windows Virtual PC Virtual Hard Disk"},vhdx:{description:"Windows Virtual PC Windows 8 Virtual Hard Disk file"},evtx:{description:"Windows Event Viewer XML file"},"PuTTY-key2":{description:"PuTTY private key file version 2"},"PuTTY-key3":{description:"PuTTY private key file version 3"},"pem-crt":{description:"PEM encoded X.509 certificate"},"pem-csr":{description:"PEM encoded X.509 Certificate Signing Request"},"pem-key":{description:"PEM encoded X.509 PKCS#8 private key"},"pem-DSAkey":{description:"PEM encoded X.509 PKCS#1 DSA private key"},"pem-RSAkey":{description:"PEM encoded X.509 PKCS#1 RSA private key"},arj:{description:"ARJ compressed file"},ZIP:{description:"zip file format and formats based on it, such as EPUB, JAR, ODF, OOXML"},LZIP:{description:"lzip compressed file"},"7z":{description:"7-Zip File Format"},gz:{description:"GZIP compressed file"},"RAR1.5":{description:"rar, Roshal ARchive compressed archive v1.50 onwards"},RAR5:{description:"rar, Roshal ARchive compressed archive v5.00 onwards"},xz:{description:"xz, tar.xz - XZ compressed file, LZMA2 compression"},LZ4:{description:"LZ4 compressed file"},XAR:{description:"xar, eXtensible ARchive format"},TAR:{description:"tar archive"},"tar-LZW":{description:"Compressed file (often tar zip) using Lempel-Ziv-Welch algorithm"},"tar-LZH":{description:"Compressed file (often tar zip) using LZH algorithm"},deb:{description:"Linux deb file"},rpm:{description:"RedHat Package Manager (RPM) package"},"MS-SDI":{description:"SDI, System Deployment Image, a disk image format used by Microsoft"},WinUpdDelta:{description:"Windows Update Binary Delta Compression file"},"iso-sdi":{description:"cdi, CD-i CD image file"},elf:{description:"Executable and Linkable Format"},DosMZ:{description:"DOS MZ executable and its descendants (including NE and PE)"},DosZM:{description:"DOS ZM executable and its descendants (rare)"},CPM3:{description:"com, executable file, CP/M 3 and higher with overlays"},Shebang:{description:"Script or data to be passed to the program following the shebang (#!)"},"Mach-O32":{description:"Mach-O binary, 32-bit"},"Mach-O64":{description:"Mach-O binary, 64-bit"},"Mach-O32rev":{description:"Mach-O binary, reverse byte ordering scheme, 32-bit"},"Mach-O64rev":{description:"Mach-O binary, reverse byte ordering scheme, 64-bit"},TDF:{description:"Telegram Desktop File"},TDEF:{description:"Telegram Desktop Encrypted File"},JavaClass:{description:"Java class file, Mach-O Fat Binary"},CRX:{description:"Google Chrome extension or packaged app"},"NES-ROM":{description:"Nintendo Entertainment System ROM file"},CAB:{description:"cab, Microsoft Cabinet file"},luac:{description:"Lua bytecode"},wasm:{description:"WebAssembly binary format"},PGP:{description:"PGP file"},cab:{description:"cab, InstallShield CAB Archive File"},evt:{description:"evt, Windows Event Viewer file"},"dat-reg":{description:"dat, a Windows Registry file"},LNK:{description:"lnk, a Windows shortcut file"},UTF8:{description:"UTF-8 byte order mark, commonly seen in text files"},UTF16LE:{description:"Text file with UTF-16LE byte order mark"},UTF16BE:{description:"Text file with UTF-16BE byte order mark"},HTML:{description:"HTML file"},XML:{description:"XML file"},ICS:{description:"ICS (iCalendar) is a file format for sharing calendar events, allowing users to exchange scheduling information across different applications."},VCARD:{description:"VCF (vCard) is a file format for electronic business cards, storing contact information like names, phone numbers, and addresses"},"VCF-GEN":{description:"VCF (Variant Call Format) is a text file format for storing genetic variation data, including SNPs and INDELs, in bioinformatics."}};(async function(){l=await k(C),l.memory!==void 0?(c.disabled=!1,g(c.files,m)):m.innerHTML+='<div class="page-message page-message--error">'+l.error+"</div>"})(),c.addEventListener("keypress",function(e){e.key==="Enter"&&g(c.files,m)}),c.addEventListener("change",function(e){g(c.files,m)}),s.addEventListener("dragenter",function(e){e.stopPropagation(),e.preventDefault(),s.classList.add(F)}),s.addEventListener("dragleave",function(e){e.stopPropagation(),e.preventDefault(),s.classList.remove(F)}),s.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault()}),s.addEventListener("drop",function(e){var i=e.dataTransfer;e.stopPropagation(),e.preventDefault(),s.classList.remove(F),g(i.files,m)}),s.addEventListener("click",function(e){document.getElementById("input-file").click()}),document.addEventListener("keydown",function(e){if(!(e.altKey||e.ctrlKey))switch(e.key){case"f":case"F":document.getElementById("input-file").click(),e.preventDefault();break}});async function k(e){var i={},r={env:{memory_base:0,table_base:0,memory:new WebAssembly.Memory({initial:1}),table:new WebAssembly.Table({initial:0,element:"anyfunc"})}};try{var t=await fetch(e),a=await t.arrayBuffer(),n=await WebAssembly.instantiate(a,r),o=n.instance;i={memory:o.exports.memory,getFileSignature:o.exports.getFileSignature}}catch(d){i.error=d.toString()}return i}async function g(e,i){var r="",t,a=new FileReader;if(e===void 0||e.length===0)r="Please, select a file.";else{t=e[0],b.show(),i.classList.remove(P);var n=async o=>{r+=u("File name",o.name)+u("File size",O(o.size))+u("File MIME type",o.type+'<div style="font-style:normal; opacity:0.7;">* as reported by the browser</div>');var d=o.slice(0,D);await a.readAsArrayBuffer(d),a.onload=function(p){G(p.target.result,d,i),b.hide(),T.log("File processed")},a.onerror=function(p){T.log("File error"),b.hide()}};await n(t)}i.innerHTML=r}function G(e,i,r){var t=300,a=45,n=32,o="<b>Description</b>",d="",p=0;if(e.byteLength===0){r.innerHTML+=u(o,"Empty file");return}var v=new Uint8Array(l.memory.buffer,p,t);I(v),v.set(new Uint8Array(e,0,Math.min(e.byteLength,t))),p+=t*Uint8Array.BYTES_PER_ELEMENT;var M=new Uint8Array(l.memory.buffer,p,a);I(M),l.getFileSignature(v.byteOffset,M.byteOffset,e.byteLength);var h=W(M,a),y="",A=!0;h===S?(A=N(e),A?y="A text file":y="A binary file, type not detected"):(y=x(h),h==="LNK"&&(e.byteLength<w||e.byteLength>L)&&(d='<div class="page-message page-message--error">'+R+e.byteLength.toString()+"</div>")),r.classList.add(P),r.innerHTML+=u(o,y)+d,h===S&&A===!1&&(r.innerHTML+='<div style="margin: 8pt 0;"><div>First bytes</div>'+B(v,Math.min(n,i.size,t))+"</div>")}function I(e){var i;for(i=0;i<e.length;i++)e[i]=0}function u(e,i){return'<div class="file-prop"><span class="file-prop-name">'+e+'</span><span class="file-prop-value">'+i+"</span></div>"}function O(e){var i={minimumFractionDigits:0,maximumFractionDigits:1},r=1024,t=1048576,a=1073741824,n="";return e>=a?n=T.formatNumber(e/a,"en-US",i)+" GB, ":e>=t?n=T.formatNumber(e/t,"en-US",i)+" MB, ":e>=r&&(n=T.formatNumber(e/r,"en-US",i)+" KB, "),n+=e+" byte(s)",n}function W(e,i){for(var r="",t=0;t<i;)if(e[t]!==0)r+=String.fromCharCode(e[t]),t++;else return r;return""}function x(e){return e===""?"signature not found":E[e]===void 0?"unknown signature "+e:E[e].description}function B(e,i){var r,t="",a="",n="";for(r=0;r<i;r++)t+='<span class="byte-hex">'+V(e[r])+"</span>",31<e[r]&&e[r]<127?n+=H(String.fromCharCode(e[r])):n+="&middot;",(r>0&&(r+1)%8===0||r===i-1)&&(a+='<span class="eight-bytes">'+t+"</span>",(r+1)%16===0&&r!==i-1&&(a+="<br />",n+="<br />"),t="");return'<div class="code file-bytes"><div><h4>Hex</h4>'+a+"</div><div><h4>ASCII</h4>"+n+"</div></div>"}function H(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}function V(e){var i=e.toString(16);return e<16?"0"+i:i}function N(e){var i=10485760,r=Math.min(i,e.byteLength),t,a,n=new Uint8Array(e,0,r);for(t=0;t<r;t++)if(a=n[t],a<7||a>13&&a<27||a>27&&a<32||a==127)return!1;return!0}function X(e){var i=document.getElementsByClassName(e)[0];return i?{show:function(){i.style.display="block"},hide:function(){i.style.display="none"}}:{show:function(){},hide:function(){}}}}
