function RomanNumerals(){function n(a){var b="",c="";if(void 0!==a){var e=a.keyCode;if(void 0!==e&&13!==e)return;a.preventDefault()}t.style.display="block";q.innerHTML="";f.hide();a=k.value.replace(/^\s+|\s+$/gm,"");e=u(a,15);switch(e.error){case 0:b="<b>"+a+"</b> = <b>"+e.n+"</b>";break;case 1:f.show('The string "<span class="err">'+a+'</span>" is not a roman numeral.',T.MessageLevel.WARNING);break;case 2:f.show("Only integer numbers from 1 to 3999 are supported.",T.MessageLevel.WARNING);break;case 3:break;
case 4:f.show("The Roman number is too long. Maximum length is 15 characters.",T.MessageLevel.WARNING);break;case 5:f.show('The string "<span class="err">'+a+'</span>" is not a valid roman numeral.',T.MessageLevel.WARNING);break;default:c="1px solid #e00",f.show("Unexpected value.",T.MessageLevel.ERROR)}k.style.border=c;q.innerHTML=b}function p(a){var b="",c="";if(void 0!==a){var e=a.keyCode;if(void 0!==e&&13!==e)return;a.preventDefault()}v.style.display="block";r.innerHTML="";g.hide();e=l.value.replace(/^\s+|\s+$/gm,
"").replace(/[,]/g,".");a=parseFloat(e);var d=w(a);switch(d.error){case 0:b="<b>"+a+"</b> = <b>"+d.roman+"</b>";break;case 1:g.show('The text "<span class="err">'+e+'</span>" is not a number.',T.MessageLevel.WARNING);break;case 2:g.show("Only integer numbers from 1 to 3999 are supported.",T.MessageLevel.WARNING);break;case 3:g.show('The text "<span class="err">'+e+'</span>" is not recognized as an integer number.',T.MessageLevel.WARNING);break;default:c="1px solid #e00",g.show("Unexpected value.",
T.MessageLevel.ERROR)}l.style.border=c;r.innerHTML=b}function u(a,b){let c={I:1,V:5,X:10,L:50,C:100,D:500,M:1E3};void 0===b&&(b=15);if(void 0===a||0===a.length)return{n:NaN,error:3};if(a.length>b)return{n:NaN,error:4};if(!a.match(x))return{n:NaN,error:5};let e=b=0;for(let h=a.length-1;0<=h;h--){var d=a.charAt(h).toUpperCase();if(void 0===c[d])return{n:NaN,error:1};d=parseInt(c[d],10);e=b<=d?e+d:e-d;b=d}return 1>e||3999<e?{n:NaN,error:2}:{n:e,error:0}}function w(a){var b="IVXLCDM".split(""),c=0,e,
d="";if("number"!==typeof a||isNaN(a))return{roman:"",error:1};if(1>a||3999<a)return{roman:"",error:2};if(a!==Math.floor(a))return{roman:"",error:3};a=a.toString().split("");for(e=a.length-1;0<=e;e--){var h=parseInt(a[e],10);switch(h){case 1:d=b[c]+d;break;case 2:d=b[c]+b[c]+d;break;case 3:d=b[c]+b[c]+b[c]+d;break;case 4:d=b[c]+b[c+1]+d;break;case 5:d=b[c+1]+d;break;case 6:d=b[c+1]+b[c]+d;break;case 7:d=b[c+1]+b[c]+b[c]+d;break;case 8:d=b[c+1]+b[c]+b[c]+b[c]+d;break;case 9:d=b[c]+b[c+2]+d}c+=2}return{roman:d,
error:0}}var x=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/i,k=document.getElementById("roman-number"),t=document.getElementById("result-block"),q=document.getElementById("result");document.getElementById("message-block");var y=document.getElementById("button-to-number"),f=new T.Message({element:document.getElementById("message-block")}),l=document.getElementById("integer-number"),v=document.getElementById("result-block-n2r"),r=document.getElementById("result-n2r");document.getElementById("message-block-n2r");
var z=document.getElementById("button-to-roman"),g=new T.Message({element:document.getElementById("message-block-n2r")}),m=T.getUrlParameters();Element.prototype.addEventListener?(void 0!==m.roman&&(k.value=decodeURIComponent(m.roman),n()),void 0!==m.number&&(l.value=decodeURIComponent(m.number),p()),k.addEventListener("keyup",n),y.addEventListener("click",n),l.addEventListener("keyup",p),z.addEventListener("click",p)):document.getElementById("incompatible-browser").style.display="block"};
