function RomanNumerals(){function h(a){var c="",f="";if(void 0!==a){var b=a.keyCode;if(void 0!==b&&13!==b)return;a.preventDefault()}n.style.display="block";l.innerHTML="";e.hide();a=g.value.replace(/^\s+|\s+$/gm,"");b=p(a,15);switch(b.error){case 0:c="<b>"+a+"</b> = <b>"+b.n+"</b>";break;case 1:e.show('The string "<span style="color:#c00;">'+a+'</span>" is not a roman numeral.',T.MessageLevel.WARNING);break;case 2:e.show("Only integer numbers from 1 to 3999 are supported.",T.MessageLevel.WARNING);
break;case 3:break;case 4:e.show("The Roman number is too long. Maximum length is 15 characters.",T.MessageLevel.WARNING);break;case 5:e.show('The string "<span style="color:#c00;">'+a+'</span>" is not a valid roman numeral.',T.MessageLevel.WARNING);break;default:f="1px solid #e00",e.show("Unexpected value.",T.MessageLevel.ERROR)}g.style.border=f;l.innerHTML=c}function p(a,c){let f={I:1,V:5,X:10,L:50,C:100,D:500,M:1E3};void 0===c&&(c=15);if(void 0===a||0===a.length)return{n:NaN,error:3};if(a.length>
c)return{n:NaN,error:4};if(!a.match(q))return{n:NaN,error:5};let b=c=0;for(let k=a.length-1;0<=k;k--){var d=a.charAt(k).toUpperCase();if(void 0===f[d])return{n:NaN,error:1};d=parseInt(f[d],10);b=c<=d?b+d:b-d;c=d}return 1>b||3999<b?{n:NaN,error:2}:{n:b,error:0}}var q=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/i,g=document.getElementById("roman-number"),l=document.getElementById("result"),n=document.getElementById("result-block");document.getElementById("message-block");var r=document.getElementById("button-to-number"),
e=new T.Message({element:document.getElementById("message-block")}),m=T.getUrlParameters();Element.prototype.addEventListener?(void 0!==m.roman&&(g.value=decodeURIComponent(m.roman),h()),g.addEventListener("keyup",h),r.addEventListener("click",h)):document.getElementById("incompatible-browser").style.display="block"};
