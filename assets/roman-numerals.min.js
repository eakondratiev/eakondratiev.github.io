function RomanNumerals(){function l(b){var a=/^\d+$/gi;if(void 0!==b){var d=b.keyCode;if(void 0!==d&&13!==d)return;b.preventDefault()}m.innerHTML="";h.hide();b=k.value.replace(/^\s+|\s+$/gm,"");if(0!==b.length)if(15<b.length)h.show("The input value is too long. Maximum length is 15 characters.",T.MessageLevel.WARNING);else{if(/^[IVXLCDM]+$/gi.test(b))a=p(b,15),a.isRomanToNumber=!0;else if(a.test(b))b=b.replace(/[,]/g,"."),a=q(parseFloat(b)),a.isRomanToNumber=!1;else{h.show('The text "<span class="err">'+
b+'</span>" is not recognized as a Roman numeral or an integer number.',T.MessageLevel.WARNING);return}switch(a.error){case 0:var f=a.isRomanToNumber?"<span>"+a.roman+" = </span><div>"+a.number+"</div>":"<span>"+a.number+" = </span><div>"+a.roman+"</div>";break;case 1:h.show("Only integer numbers from 1 to 3999 are supported.",T.MessageLevel.WARNING);break;case 3:a.isRomanToNumber?h.show('The string "<span class="err">'+a.roman+'</span>" is not a valid roman numeral.',T.MessageLevel.WARNING):h.show('The value "<span class="err">'+
inputText+'</span>" is not recognized as an integer number.',T.MessageLevel.WARNING)}m.innerHTML=f}}function p(b,a){var d={I:1,V:5,X:10,L:50,C:100,D:500,M:1E3},f=0,c=0,e={roman:b,number:NaN,error:0};void 0===a&&(a=15);if(void 0===b||0===b.length)return e.error=4,e;if(b.length>a)return e.error=5,e;if(!b.match(r))return e.error=3,e;for(a=b.length-1;0<=a;a--){var g=b.charAt(a).toUpperCase();if(void 0===d[g])return e.error=2,e;g=parseInt(d[g],10);c=f<=g?c+g:c-g;f=g}if(1>c||3999<c)return e.error=1,e;e.number=
c;return e}function q(b){var a="IVXLCDM".split(""),d=0,f,c={roman:"",number:b,error:0};if("number"!==typeof b||isNaN(b))return c.error=2,c;if(1>b||3999<b)return c.error=1,c;if(b!==Math.floor(b))return c.error=3,c;b=b.toString().split("");for(f=b.length-1;0<=f;f--){var e=parseInt(b[f],10);switch(e){case 1:c.roman=a[d]+c.roman;break;case 2:c.roman=a[d]+a[d]+c.roman;break;case 3:c.roman=a[d]+a[d]+a[d]+c.roman;break;case 4:c.roman=a[d]+a[d+1]+c.roman;break;case 5:c.roman=a[d+1]+c.roman;break;case 6:c.roman=
a[d+1]+a[d]+c.roman;break;case 7:c.roman=a[d+1]+a[d]+a[d]+c.roman;break;case 8:c.roman=a[d+1]+a[d]+a[d]+a[d]+c.roman;break;case 9:c.roman=a[d]+a[d+2]+c.roman}d+=2}return c}var r=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/i,k=document.getElementById("value-to-convert"),m=document.getElementById("result");document.getElementById("message-block");var t=document.getElementById("button-to-number"),h=new T.Message({element:document.getElementById("message-block")}),n=T.getUrlParameters();
k.maxLength=15;k.focus();Element.prototype.addEventListener?(void 0!==n.value&&(k.value=decodeURIComponent(n.value),l()),k.addEventListener("keyup",l),t.addEventListener("click",l)):document.getElementById("incompatible-browser").style.display="block"};
