function RomanNumerals(){function k(b){var a=/^\d+$/gi;if(void 0!==b){var c=b.keyCode;if(void 0!==c&&13!==c)return;b.preventDefault()}n.style.display="block";l.innerHTML="";f.hide();b=g.value.replace(/^\s+|\s+$/gm,"");if(0!==b.length)if(/^[IVXLCDM]+$/gi.test(b)){var e=c="";a=p(b,15);switch(a.error){case 0:c="<b>"+b+"</b> = <b>"+a.n+"</b>";break;case 1:f.show('The string "<span class="err">'+b+'</span>" is not a roman numeral.',T.MessageLevel.WARNING);break;case 2:f.show("Only integer numbers from 1 to 3999 are supported.",
T.MessageLevel.WARNING);break;case 3:break;case 4:f.show("The Roman number is too long. Maximum length is 15 characters.",T.MessageLevel.WARNING);break;case 5:f.show('The string "<span class="err">'+b+'</span>" is not a valid roman numeral.',T.MessageLevel.WARNING);break;default:e="1px solid #e00",f.show("Unexpected value.",T.MessageLevel.ERROR)}g.style.border=e;l.innerHTML=c}else if(a.test(b)){c=a="";e=b.replace(/^\s+|\s+$/gm,"").replace(/[,]/g,".");b=parseFloat(e);var d=q(b);switch(d.error){case 0:a=
"<b>"+b+"</b> = <b>"+d.roman+"</b>";break;case 1:f.show('The text "<span class="err">'+e+'</span>" is not a number.',T.MessageLevel.WARNING);break;case 2:f.show("Only integer numbers from 1 to 3999 are supported.",T.MessageLevel.WARNING);break;case 3:f.show('The text "<span class="err">'+e+'</span>" is not recognized as an integer number.',T.MessageLevel.WARNING);break;default:c="1px solid #e00",f.show("Unexpected value.",T.MessageLevel.ERROR)}g.style.border=c;l.innerHTML=a}else f.show('The text "<span class="err">'+
b+'</span>" is not recognized as a Roman numeral or an integer number.',T.MessageLevel.WARNING)}function p(b,a){let c={I:1,V:5,X:10,L:50,C:100,D:500,M:1E3};void 0===a&&(a=15);if(void 0===b||0===b.length)return{n:NaN,error:3};if(b.length>a)return{n:NaN,error:4};if(!b.match(r))return{n:NaN,error:5};let e=a=0;for(let h=b.length-1;0<=h;h--){var d=b.charAt(h).toUpperCase();if(void 0===c[d])return{n:NaN,error:1};d=parseInt(c[d],10);e=a<=d?e+d:e-d;a=d}return 1>e||3999<e?{n:NaN,error:2}:{n:e,error:0}}function q(b){var a=
"IVXLCDM".split(""),c=0,e,d="";if("number"!==typeof b||isNaN(b))return{roman:"",error:1};if(1>b||3999<b)return{roman:"",error:2};if(b!==Math.floor(b))return{roman:"",error:3};b=b.toString().split("");for(e=b.length-1;0<=e;e--){var h=parseInt(b[e],10);switch(h){case 1:d=a[c]+d;break;case 2:d=a[c]+a[c]+d;break;case 3:d=a[c]+a[c]+a[c]+d;break;case 4:d=a[c]+a[c+1]+d;break;case 5:d=a[c+1]+d;break;case 6:d=a[c+1]+a[c]+d;break;case 7:d=a[c+1]+a[c]+a[c]+d;break;case 8:d=a[c+1]+a[c]+a[c]+a[c]+d;break;case 9:d=
a[c]+a[c+2]+d}c+=2}return{roman:d,error:0}}var r=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/i,g=document.getElementById("value-to-convert"),n=document.getElementById("result-block"),l=document.getElementById("result");document.getElementById("message-block");var t=document.getElementById("button-to-number"),f=new T.Message({element:document.getElementById("message-block")}),m=T.getUrlParameters();g.maxLength=15;Element.prototype.addEventListener?(void 0!==m.value&&(g.value=decodeURIComponent(m.value),
k()),g.addEventListener("keyup",k),t.addEventListener("click",k)):document.getElementById("incompatible-browser").style.display="block"};
