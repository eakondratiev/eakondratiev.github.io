async function sha256page(e){async function x(a,b){let f=!1;if(0===a.length)b.error("Please, select a file.");else{1<a.length&&(f=!0);a=a[0];b.start(a);try{l.sha256init();await H(a,5242880,b);const c=new Uint8Array(l.memory.buffer,5244929,65);if(5244929+c.length>l.memory.buffer.byteLength)b.error("Something went wrong. Computing SHA256: not enough memory allocated for output buffer."),T.log("WASM Memory");else{l.sha256digest(5244929);var d=String.fromCharCode.apply(null,c.subarray(0,64));b.finish(d,
f)}}catch(c){b.error("Something went wrong. An error occurred while calculating the checksum of the file."),T.log("Compute error")}}}async function H(a,b,f){let d=0;for(;d<a.size;){const c=a.slice(d,Math.min(d+b,a.size));try{const g=await I(c),h=g.byteLength;(new Uint8Array(l.memory.buffer,2048,h)).set(new Uint8Array(g));l.sha256update(2048,h);f.progress(d)}catch(g){f.error("Something went wrong. Error processing the file chunk.");T.log("WASM Chunk");break}d+=b}}function I(a){return new Promise((b,
f)=>{const d=new FileReader;d.onload=c=>b(c.target.result);d.onerror=()=>f(d.error);d.readAsArrayBuffer(a)})}function B(){J.style.display=n.value?"none":"block"}function y(a){u.disabled=!a;n.disabled=!a;a?k.classList.remove(C):k.classList.add(C)}function D(){const a=n.value.replace(/[\s\-]+/g,"");let b="",f=p.dataset.sha256;m.classList.remove(E);m.classList.remove(F);void 0!==f&&""!==f&&""!==a&&(a.toLowerCase()===f.toLowerCase()?(b=G.match,m.classList.add(E)):(b=G.noMatch,m.classList.add(F)));m.innerText=
b}const K=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!0});let L=e.wasmUrl,k=document.getElementById(e.fileDropElement),u=document.getElementById(e.fileElement),n=document.getElementById(e.expectedElement),J=document.getElementById(e.expectedPlaceholder),p=document.getElementById(e.resultElement),m=document.getElementById(e.compareElement),z=document.getElementById(e.progressElement),v=document.getElementById(e.statElement),q=document.getElementById(e.messageElement),
M=e.dropZoneText,A=e.dropReadyCss,C=e.dropDisabledCss,N=e.resultCss,O=e.flashCss,E=e.compareMatchCss,F=e.compareNoMatchCss,G={match:e.textMatch,noMatch:e.textNoMatch};const w=function(){let a="",b=0,f="",d=void 0;return{start:function(c){e=e||{};a=c.name;b=c.size;f="";p.innerText="";m.innerText="";m.innerText="";z.innerText="0%";v.innerText="";q.innerText="";q.style.display="none";y(!1);d=performance.now()},progress:function(c){var g=b,h=d,r=(c/g*100).toFixed(2);104857600>g?c="":(g-=c,h=performance.now()-
h,1>h?c="":(c/=h,c=1>c?"":`, approximate wait time: ${(.001*g/c).toFixed(1)} sec.`));z.innerHTML=`${r}%${c}`},finish:function(c,g){var h=g?"Only one file was processed<br>":"";f=c;g=performance.now()-d;y(!0);z.innerText="";p.dataset.sha256=c;p.innerHTML="<div><b>SHA-256</b></div>"+`<div class="${N} ${O}">${f}</div>`;c=h+`<span>File:</span> ${a}<br>`;h=b;var r={minimumFractionDigits:0,maximumFractionDigits:1},P=new Intl.NumberFormat({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:!0}),
t="";1073741824<=h?t=T.formatNumber(h/1073741824,"en-US",r)+" GB, ":1048576<=h?t=T.formatNumber(h/1048576,"en-US",r)+" MB, ":1024<=h&&(t=T.formatNumber(h/1024,"en-US",r)+" KB, ");t+=P.format(h)+" byte(s)";v.innerHTML=c+`<span>Size:</span> ${t}<br>`;300<g&&(v.innerHTML+=`<span>Elapsed time:</span> ${(g/1E3).toFixed(2)} s<br>`+`<span>Performance:</span> ${K.format(b/g)} bytes per ms`);D();T.log("Computed")},error:function(c){var g=document.createElement("div");g.textContent="Something went wrong. "+
c;g.classList.add("page-message");g.classList.add("page-message--error");q.textContent="";q.appendChild(g);q.style.display="block";y(!0)}}}();let l,Q={env:{memory_base:0,table_base:0,memory:new WebAssembly.Memory({initial:256,maximum:256}),table:new WebAssembly.Table({initial:0,element:"anyfunc"}),emscripten_memcpy_big:function(a,b,f){const d=new Uint8Array(l.memory.buffer);d.set(d.subarray(b,b+f),a)}}};(function(){let a=/^[a-f0-9]+$/i;var b=T.getUrlParameters();"undefined"!==typeof b.expected&&""!==
b.expected&&(b="string"===typeof b.expected?b.expected:b.expected[0],a.test(b)&&(n.value=b))})();B();l=await async function(a,b){try{const f=await fetch(a),d=await WebAssembly.instantiateStreaming(f,b);return{instance:d,memory:d.instance.exports.memory,sha256init:d.instance.exports.init_sha256,sha256update:d.instance.exports.update_sha256,sha256digest:d.instance.exports.digest_sha256}}catch(f){return w.error("Wasm module was not loaded."),T.log("WASM not loaded"),null}}(L,Q);null===l?p.innerText=
"Something went wrong: the WASM module was not loaded.":(k.innerHTML=M,u.disabled=!1,u.addEventListener("change",function(a){x(a.target.files,w)}),u.addEventListener("keypress",function(a){"Enter"===a.key&&x(a.target.files,w)}),k.addEventListener("dragenter",function(a){a.stopPropagation();a.preventDefault();k.classList.add(A)}),k.addEventListener("dragleave",function(a){a.stopPropagation();a.preventDefault();k.classList.remove(A)}),k.addEventListener("dragover",function(a){a.stopPropagation();a.preventDefault()}),
k.addEventListener("drop",function(a){var b=a.dataTransfer;a.stopPropagation();a.preventDefault();k.classList.remove(A);x(b.files,w)}),n.addEventListener("input",function(a){B();D()}))};
